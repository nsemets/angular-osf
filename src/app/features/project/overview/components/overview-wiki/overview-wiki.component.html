<div class="wiki flex flex-column p-4 gap-4">
  <div class="flex justify-content-between align-items-center">
    <h2>{{ 'project.overview.wiki.title' | translate }}</h2>

    @if (canEdit()) {
      <p-button
        severity="secondary"
        [label]="'common.buttons.edit' | translate"
        (onClick)="navigateToWiki()"
        data-test-edit-wiki-button
      ></p-button>
    }
  </div>

  @if (isWikiLoading()) {
    <p-skeleton width="100%" height="5rem" />
  } @else {
    @if (wikiContent()) {
      <osf-truncated-text
        [text]="wikiContent()"
        [maxVisibleLines]="12"
        [navigateOnReadMore]="true"
        [link]="wikiLink()"
        [hasOwnContent]="true"
      >
        <osf-markdown [markdownText]="wikiContent()"></osf-markdown>
      </osf-truncated-text>
    } @else {
      <div class="font-italic" [innerHtml]="'project.overview.wiki.noWikiMessage' | translate"></div>
    }
  }
</div>
